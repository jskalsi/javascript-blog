(this["webpackJsonpmern-blog"]=this["webpackJsonpmern-blog"]||[]).push([[0],{31:function(e,t,n){e.exports=n(60)},36:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(28),l=n.n(r),o=(n(36),n(2)),u=n(3),i=n(5),s=n(4),m=n(11),p=n(12),h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("nav",null,c.a.createElement("h2",null,c.a.createElement(m.b,{to:"/"},"Home")),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(m.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(m.b,{to:"/create"},"Post")),c.a.createElement("li",null,c.a.createElement(m.b,{to:"/about"},"About"))))}}]),n}(a.Component),v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"about"},c.a.createElement("h1",null,"About this app"),c.a.createElement("h3",null,"Hi, This is a blog application built using the MERN stack"),c.a.createElement("h3",null,"More feature coming soon! "))}}]),n}(a.Component),b=n(9),E=n.n(b),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).createArticle=function(){E.a.post("http://localhost:8080/api/article/create",{title:a.state.title,content:a.state.content,upvotes:0}).then((function(){a.setState({title:"",content:""})})).catch((function(e){return console.log(e)}))},a.state={title:"",content:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"form"},c.a.createElement("h1",null,"Post a new article"),c.a.createElement("div",null,c.a.createElement("label",null,"Title:",c.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),c.a.createElement("label",null,"Content:",c.a.createElement("textarea",{rows:"15",cols:"100",value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}})),c.a.createElement("button",{type:"submit",onClick:this.createArticle},"Submit")))}}]),n}(a.Component),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement("h1",null,"Oops!! Page not found")}}]),n}(a.Component),O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Comments:"),this.props.comments.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("h4",null,e.username),c.a.createElement("p",null,e.text))})))}}]),n}(a.Component),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).addComment=function(){E.a.post("http://localhost:8080/api/article/".concat(a.props.id,"/add-comment"),{username:a.state.username,text:a.state.text}).then((function(){a.setState({username:"",text:""})})).then((function(){a.props.updateComments()})).catch((function(e){return console.log(e)}))},a.state={username:"",text:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"form"},c.a.createElement("h3",null,"Add a comment:"),c.a.createElement("div",null,c.a.createElement("label",null,"Name:",c.a.createElement("input",{type:"text",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}})),c.a.createElement("label",null,"Comment:",c.a.createElement("textarea",{rows:"5",cols:"50",value:this.state.text,onChange:function(t){return e.setState({text:t.target.value})}})),c.a.createElement("button",{type:"submit",onClick:this.addComment},"Submit")))}}]),n}(a.Component),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).upvote=function(){E.a.post("http://localhost:8080/api/article/".concat(a.props.id,"/upvote")).then((function(){a.setState({upvotes:a.state.upvotes+1})})).catch((function(e){return console.log(e)}))},a.state={article:{},upvotes:"",comments:[]},a}return Object(u.a)(n,[{key:"updateComments",value:function(){var e=this;E.a.get("http://localhost:8080/api/article/".concat(this.props.id)).then((function(t){e.setState({upvotes:t.data.upvotes,comments:t.data.comments})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.updateComments(),E.a.get("http://localhost:8080/api/article/".concat(this.props.id)).then((function(t){e.setState({article:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.id,t=this.state.article;return t?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,t.title),c.a.createElement("div",{className:"upvote"},c.a.createElement("button",{onClick:this.upvote},"Add upvote"),c.a.createElement("p",null,"This post has been upvoted ",this.state.upvotes)),c.a.createElement("p",null,t.content),c.a.createElement("div",{className:"comments"},c.a.createElement(O,{comments:this.state.comments}),c.a.createElement(j,{id:e,updateComments:this.updateComments()}))):c.a.createElement(d,null)}}]),n}(a.Component),C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={articles:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:8080/api/articles").then((function(t){e.setState({articles:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.articles;return c.a.createElement("div",{className:"articles"},c.a.createElement("h1",null,"Articles"),e.map((function(e,t){return c.a.createElement(m.b,{key:t,to:"/article/".concat(e._id)},c.a.createElement("h3",null,e.title),c.a.createElement("p",null,e.content.substring(0,150),"..."))})))}}]),n}(a.Component),y=(n(59),function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return c.a.createElement(m.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(h,null),c.a.createElement(p.c,null,c.a.createElement(p.a,{path:"/",component:C,exact:!0}),c.a.createElement(p.a,{path:"/create",component:f}),c.a.createElement(p.a,{path:"/about",component:v}),c.a.createElement(p.a,{path:"/article/:id",component:function(e){return c.a.createElement(g,{id:e.match.params.id})}}),c.a.createElement(p.a,{component:d}))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.18a625b0.chunk.js.map